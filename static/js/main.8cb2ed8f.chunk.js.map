{"version":3,"sources":["contexts.js","firebase.js","history.js","auth.js","state.js","reducer.js","actionTypes.js","componenets/SocialLogin.js","componenets/Copyright.js","componenets/SignIn.js","componenets/SignUp.js","componenets/ForgotPassword.js","componenets/Header.js","componenets/Dashboard.js","componenets/SignInWithEmailLink.js","componenets/SendSignInEmailLink.js","componenets/Popup.js","App.js","serviceWorker.js","index.js"],"names":["StateContext","React","createContext","DispatchContext","firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","history","createBrowserHistory","email","a","url","window","location","href","Promise","resolve","reject","isSignInWithEmailLink","localStorage","getItem","prompt","signInWithEmailLink","then","result","console","log","user","person","displayName","photoURL","removeItem","push","catch","err","password","name","currentUser","createUserWithEmailAndPassword","value","uid","updateProfile","signInWithEmailAndPassword","dynamicUrl","slice","lastIndexOf","URL","actionCodeSettings","handleCodeInApp","sendSignInLinkToEmail","setItem","loginWithProvider","providerId","provider","OAuthProvider","signInWithPopup","addUserToCollection","db","firestore","users","collection","add","INITIAL_STATE","isLoading","error","authenticated","reducer","state","type","payload","userLoginSuccess","userLoginFailure","message","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","social","margin","SocialLogin","classes","dispatch","useContext","useHistory","handleLogin","className","Typography","component","variant","Button","fullWidth","color","style","backgroundColor","onClick","startIcon","Copyright","align","Link","target","Date","getFullYear","avatar","palette","secondary","main","form","width","submit","SignIn","useState","setEmail","setPassword","Container","maxWidth","Avatar","noValidate","onSubmit","e","preventDefault","TextField","required","id","label","autoComplete","autoFocus","onChange","FormControlLabel","control","Checkbox","Grid","container","item","xs","to","Box","mt","SignUp","setName","signUpWithEmailAndPassword","ForgotPassword","alert","Header","anchorEl","setAnchorEl","handleCloseMenu","AppBar","position","Toolbar","IconButton","edge","aria-label","aria-controls","aria-haspopup","currentTarget","onClose","src","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","MenuItem","signOut","Dashboard","setPhotoURL","useEffect","Card","CardHeader","title","subheader","CardContent","gutterBottom","SignInWithEmailLink","isRedirect","setIsRedirect","isSameDevice","setIsSameDevice","disabled","SendSignInEmailLink","isEmailSent","setIsEmailSent","sendSignInEmailLink","sendEmailLinkFailure","Popup","setOpen","Snackbar","TransitionComponent","Slide","autoHideDuration","App","useReducer","setUser","onAuthStateChanged","useGetCurrentUser","REACT_APP_HOMEPAGE","Provider","CssBaseline","exact","path","hostname","match","ReactDOM","render","StrictMode","basename","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8cb2ed8f.chunk.js","sourcesContent":["import React from \"react\";\n\nexport const StateContext = React.createContext();\nexport const DispatchContext = React.createContext();\n","import * as firebase from \"firebase\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\n};\n\nfirebase.initializeApp(firebaseConfig);\nexport default firebase;\nexport const auth = firebase.auth();\n","import { createBrowserHistory } from \"history\";\n\nconst history = createBrowserHistory();\n\nexport default history;\n","import firebase, { auth } from \"./firebase\";\nimport { useState, useEffect } from \"react\";\nimport history from \"./history\";\n\nexport const confirmSignInWithEmailLink = async () => {\n  return new Promise((resolve, reject) => {\n    const url = window.location.href;\n    console.log({ url });\n\n    if (auth.isSignInWithEmailLink(url)) {\n      alert(\"Passwordless sign in needs to happen\");\n\n      // Grab the email from localstorage\n      var email = window.localStorage.getItem(\"emailForSignIn\");\n\n      if (!email) {\n        // User opened the link on a different device.\n        // Ask the user for email again!\n        email = window.prompt(\"Please provide your email for confirmation\");\n      }\n      //Now signIn\n      auth\n        .signInWithEmailLink(email, url)\n        .then((result) => {\n          console.log({ result });\n          const user = result.user;\n          const person = {\n            displayName: user.displayName,\n            email: user.email,\n            photoURL: user.photoURL,\n          };\n          // Clear email from storage.\n          window.localStorage.removeItem(\"emailForSignIn\");\n\n          resolve(person);\n        })\n        .catch((err) => reject(err))\n        .finally(() => {\n          // need to clear the url !\n          //history.push(\"/\");\n        });\n    }\n  });\n};\n\nexport async function signInWithEmailLink(email) {\n  const url = window.location.href;\n\n  return new Promise((resolve, reject) => {\n    if (auth.isSignInWithEmailLink(url)) {\n      // Grab the email from localstorage\n      var email = window.localStorage.getItem(\"emailForSignIn\");\n\n      if (!email) {\n        // User opened the link on a different device.\n        // Ask the user for email again!\n        email = window.prompt(\"Please provide your email for confirmation\");\n      }\n      auth\n        .signInWithEmailLink(email, url)\n        .then((result) => {\n          console.log({ result });\n          const user = result.user;\n          const person = {\n            displayName: user.displayName,\n            email: user.email,\n            photoURL: user.photoURL,\n          };\n          // Clear email from storage.\n          window.localStorage.removeItem(\"emailForSignIn\");\n          history.push(\"/dashboard\");\n          resolve(person);\n        })\n        .catch((err) => {\n          console.log({ err });\n          history.push(\"/\");\n          reject(err);\n        });\n      // .finally(() => {\n      //   // need to clear the url !\n      //   history.push(\"/\");\n      // });\n    }\n  });\n}\n\nexport async function signUpWithEmailAndPassword({ email, password, name }) {\n  return new Promise((resolve, reject) => {\n    if (!email || !password) {\n      return reject(\"Email and password was not provided\");\n    }\n    if (auth.currentUser) {\n      return reject(\"A user is logged in. Please logout from dashboard first!\");\n    }\n    auth\n      .createUserWithEmailAndPassword(email, password)\n      .then((value) => {\n        console.log({ value });\n\n        const user = value.user;\n        if (!user) {\n          reject();\n\n          return;\n        }\n\n        const uid = user.uid;\n\n        if (!uid) {\n          reject();\n\n          return;\n        }\n        const person = {\n          email: user.email,\n          photoURL: user.photoURL,\n          displayName: user.displayName,\n        };\n        if (name) {\n          user.updateProfile({\n            displayName: name,\n          });\n        }\n\n        resolve(person);\n      })\n      .catch((err) => {\n        console.log({ err });\n        reject(err);\n      });\n  });\n}\n\nexport async function signInWithEmailAndPassword(email, password) {\n  return new Promise((resolve, reject) => {\n    if (!email || !password) {\n      return reject(\"Email and password was not provided\");\n    }\n    if (auth.currentUser) {\n      return reject(\"A user is logged in. Please logout from dashboard first!\");\n    }\n    auth\n      .signInWithEmailAndPassword(email, password)\n      .then((value) => {\n        console.log({ value });\n\n        const user = value.user;\n        if (!user) {\n          reject();\n\n          return;\n        }\n        const uid = user.uid;\n\n        if (!uid) {\n          reject();\n\n          return;\n        }\n\n        const person = {\n          displayName: user.displayName,\n          email: user.email,\n          photoURL: user.photoURL,\n        };\n        resolve(person);\n      })\n      .catch((err) => {\n        console.log({ err });\n        reject(err);\n      });\n  });\n}\n\nexport async function sendSignInEmailLink(email) {\n  return new Promise((resolve, reject) => {\n    // Reject if email is not provided\n    if (!email) {\n      reject(\"Please provide a valid email address\");\n      return;\n    }\n    //Don't login if the user is logged in\n    if (auth.currentUser) {\n      reject(\"A user is currently logged in. Please logout first!\");\n      return;\n    }\n    const url = window.location.href;\n    const dynamicUrl = url.slice(0, url.lastIndexOf(\"/\"));\n    console.log(\"-----------------------------\");\n    console.log({ dynamicUrl });\n    console.log(process.env.PUBLIC_URL, \"PUBLIC_URL\");\n    const URL = `${dynamicUrl}/${process.env.PUBLIC_URL}/sign-in-with-email-link`;\n    console.log({ URL });\n    const actionCodeSettings = {\n      url: URL,\n      handleCodeInApp: true,\n    };\n    auth\n      .sendSignInLinkToEmail(email, actionCodeSettings)\n      .then(() => {\n        // Save the email locally so you don't need to ask the user for it again\n        // if they open the link on the same device.\n        window.localStorage.setItem(\"emailForSignIn\", email);\n        resolve();\n      })\n      .catch((err) => reject(err));\n  });\n}\n\nexport async function loginWithProvider(providerId = \"google.com\") {\n  return new Promise((resolve, reject) => {\n    const provider = new firebase.auth.OAuthProvider(providerId);\n    // Reject if provider not found\n    if (!provider) {\n      reject();\n      return;\n    }\n    //Don't login if the user is logged in\n    if (auth.currentUser) {\n      reject(\n        \"A user is already logged in. Please logout first to login with different email\"\n      );\n      return;\n    }\n    auth\n      .signInWithPopup(provider)\n      .then((result) => {\n        const user = result.user;\n        console.log({ user });\n        const person = {\n          displayName: user.displayName,\n          email: user.email,\n          photoURL: user.photoURL,\n        };\n        addUserToCollection(person);\n        resolve(person);\n      })\n      .catch((err) => {\n        console.log({ err });\n        reject(err);\n      });\n  });\n}\n\nexport const sendEmailToResetPassword = async () => {\n  auth.sendPasswordResetEmail();\n};\n\nexport const isLoggedIn = () =>\n  new Promise((resolve, reject) => {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        return resolve(true);\n      } else {\n        return resolve(false);\n      }\n    });\n  });\n\nexport const useIsLoggedIn = () => {\n  const [val, setVal] = useState(false);\n  auth.onAuthStateChanged((user) => {\n    if (user) {\n      setVal(true);\n    }\n  });\n  return val;\n};\n\nexport const useGetCurrentUser = () => {\n  const [user, setUser] = useState(null);\n  // onAuthStateChanged needs to be called inside useEffect\n  useEffect(\n    () =>\n      auth.onAuthStateChanged((user) => {\n        console.log(\"lets see how many times its called\");\n        if (user) {\n          const person = {\n            displayName: user.displayName,\n            email: user.email,\n            photoURL: user.photoURL,\n          };\n          console.log({ person });\n          setUser(person);\n        }\n      }),\n    []\n  );\n  return user;\n};\n\n//Add loggedIn user to `users` collection\nexport async function addUserToCollection(user) {\n  const db = firebase.firestore();\n  const users = db.collection(\"users\");\n  try {\n    await users.add(user);\n  } catch (error) {\n    console.log(\"User not added to collection\");\n  }\n}\n","export const INITIAL_STATE = {\n  isLoading: false,\n  error: null,\n  user: null,\n  authenticated: false,\n};\n","import { INITIAL_STATE } from \"./state\";\n\nconst reducer = (state = INITIAL_STATE, { type, payload }) => {\n  console.log({ type });\n  console.log({ payload });\n  switch (type) {\n    case \"USER_LOGIN_REQUEST\":\n      return {\n        ...state,\n        isLoading: true,\n      };\n    case \"USER_LOGIN_SUCCESS\":\n      return {\n        ...state,\n        user: payload,\n        isLoading: false,\n        authenticated: true,\n      };\n    case \"USER_LOGIN_FAILURE\":\n      return {\n        ...state,\n        error: payload,\n        isLoading: false,\n      };\n    case \"USER_LOGOUT\":\n      return {\n        ...state,\n        user: null,\n      };\n    case \"GET_CURRENT_USER\":\n      return {\n        ...state,\n        user: payload,\n        authenticated: true,\n      };\n    case \"CLEAR_ERROR\":\n      return {\n        ...state,\n        error: null,\n      };\n    case \"EMAIL_SENT\":\n      return {\n        ...state,\n        isLoading: false,\n      };\n    case \"SEND_EMAIL_LINK_REQUEST\":\n      return {\n        ...state,\n        isLoading: true,\n      };\n    case \"SEND_EMAIL_LINK_SUCCESS\":\n      return {\n        ...state,\n        isLoading: false,\n      };\n\n    case \"SEND_EMAIL_LINK_FAILURE\":\n      return {\n        ...state,\n        error: payload,\n        isLoading: false,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","export const userLoginRequest = () => {\n  return {\n    type: \"USER_LOGIN_REQUEST\",\n  };\n};\n\nexport const userLoginSuccess = (user) => {\n  return {\n    type: \"USER_LOGIN_SUCCESS\",\n    payload: user,\n  };\n};\n\nexport const userLoginFailure = (err) => {\n  return {\n    type: \"USER_LOGIN_FAILURE\",\n    payload: err && err.message ? err.message : err,\n  };\n};\n\nexport const sendEmailLinkRequest = () => {\n  return {\n    type: \"SEND_EMAIL_LINK_REQUEST\",\n  };\n};\n\nexport const sendEmailLinkSuccess = () => {\n  return {\n    type: \"SEND_EMAIL_LINK_SUCCESS\",\n  };\n};\n\nexport const sendEmailLinkFailure = (err) => {\n  return {\n    type: \"SEND_EMAIL_LINK_FAILURE\",\n    payload: err && err.message ? err.message : err,\n  };\n};\n","import React, { useContext } from \"react\";\nimport { Typography, Button, makeStyles } from \"@material-ui/core\";\nimport { loginWithProvider } from \"../auth\";\nimport { DispatchContext } from \"../contexts\";\nimport {\n  userLoginRequest,\n  userLoginSuccess,\n  userLoginFailure,\n} from \"../actionTypes\";\nimport { Facebook as FacebookIcon } from \"mdi-material-ui\";\nimport { Google as GoogleIcon } from \"mdi-material-ui\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  social: {\n    margin: theme.spacing(2, 0, 0),\n  },\n}));\n\nfunction SocialLogin() {\n  const classes = useStyles();\n  const dispatch = useContext(DispatchContext);\n  const history = useHistory();\n\n  const handleLogin = async (providerId) => {\n    dispatch(userLoginRequest());\n\n    loginWithProvider(providerId)\n      .then((user) => {\n        dispatch(userLoginSuccess(user));\n        history.push(\"/dashboard\");\n      })\n      .catch((err) => dispatch(userLoginFailure(err)));\n  };\n\n  return (\n    <div className={classes.paper}>\n      <Typography component=\"h1\" variant=\"body1\">\n        OR\n      </Typography>\n      <Button\n        fullWidth\n        variant=\"contained\"\n        color=\"primary\"\n        style={{ backgroundColor: \"#4267B2\" }}\n        className={classes.social}\n        onClick={() => handleLogin(\"facebook.com\")}\n        startIcon={<FacebookIcon />}\n      >\n        Sign in with Facebook\n      </Button>\n      <Button\n        fullWidth\n        variant=\"contained\"\n        color=\"default\"\n        style={{ backgroundColor: \"white\" }}\n        className={classes.social}\n        onClick={() => handleLogin(\"google.com\")}\n        startIcon={<GoogleIcon />}\n      >\n        Sign in with Google\n      </Button>\n    </div>\n  );\n}\n\nexport default SocialLogin;\n","import React from \"react\";\nimport { Typography, Link } from \"@material-ui/core\";\n\nexport default function Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright © \"}\n      <Link\n        color=\"inherit\"\n        href=\"https://github.com/ooanishoo/react-firebase-auth\"\n        target=\"_blank\"\n      >\n        React Firebase Authentication\n      </Link>{\" \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport SocialLogin from \"./SocialLogin\";\nimport Copyright from \"./Copyright\";\nimport { Link } from \"react-router-dom\";\nimport { DispatchContext, StateContext } from \"../contexts\";\nimport {\n  userLoginRequest,\n  userLoginFailure,\n  userLoginSuccess,\n} from \"../actionTypes\";\nimport { signInWithEmailAndPassword } from \"../auth\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignIn() {\n  const classes = useStyles();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const dispatch = useContext(DispatchContext);\n  const { isLoading } = useContext(StateContext);\n  const history = useHistory();\n\n  const handleOnSubmit = (e) => {\n    e.preventDefault();\n    if (!isLoading) {\n      dispatch(userLoginRequest());\n      signInWithEmailAndPassword(email, password)\n        .then((user) => {\n          console.log({ user });\n          dispatch(userLoginSuccess(user));\n          history.push(\"/dashboard\");\n        })\n        .catch((err) => dispatch(userLoginFailure(err)));\n    }\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <form className={classes.form} noValidate onSubmit={handleOnSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n          <FormControlLabel\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\n            label=\"Remember me\"\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            {isLoading ? `Signing In...` : `Sign In`}\n          </Button>\n          <Grid container>\n            <Grid item xs>\n              <Link to=\"/forgot-password\">Forgot password?</Link>\n            </Grid>\n            <Grid item>\n              <Link to=\"/sign-up\">{\"Don't have an account? Sign Up\"}</Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n      <SocialLogin />\n      <Button\n        fullWidth\n        variant=\"contained\"\n        color=\"secondary\"\n        className={classes.submit}\n        onClick={() => history.push(\"/send-sign-in-email-link\")}\n      >\n        Send Sign In Email Link\n      </Button>\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n","import React, { useContext, useState } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Copyright from \"./Copyright\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { DispatchContext, StateContext } from \"../contexts\";\nimport { signUpWithEmailAndPassword } from \"../auth\";\nimport {\n  userLoginRequest,\n  userLoginFailure,\n  userLoginSuccess,\n} from \"../actionTypes\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignUp() {\n  const classes = useStyles();\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const dispatch = useContext(DispatchContext);\n  const { isLoading } = useContext(StateContext);\n  const history = useHistory();\n\n  const user = {\n    name,\n    email,\n    password,\n  };\n\n  const handleOnSubmit = (e) => {\n    e.preventDefault();\n    if (!isLoading) {\n      dispatch(userLoginRequest());\n      signUpWithEmailAndPassword(user)\n        .then((user) => {\n          dispatch(userLoginSuccess(user));\n          history.push(\"/dashboard\");\n        })\n        .catch((err) => dispatch(userLoginFailure(err)));\n    }\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        <form className={classes.form} onSubmit={handleOnSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Full name\"\n            name=\"name\"\n            autoComplete=\"name\"\n            autoFocus\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n          <FormControlLabel\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\n            label=\"Remember me\"\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            {isLoading ? `Signing up...` : `Sign Up`}\n          </Button>\n          <Grid container>\n            <Grid item>\n              <Link to=\"/sign-in\">{\"Already have an account? Sign in\"}</Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n","import React from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Box from \"@material-ui/core/Box\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Copyright from \"./Copyright\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function ForgotPassword() {\n  const classes = useStyles();\n\n  const handleOnClick = (e) => {\n    e.preventDefault();\n    alert(\"Send reset password email here\");\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <VisibilityIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Forgot Password\n        </Typography>\n        <br />\n        <Typography component=\"body1\" variant=\"body1\" color=\"textSecondary\">\n          Enter your email address and we'll send you a link to reset your\n          password.\n        </Typography>\n        <form className={classes.form} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            onClick={handleOnClick}\n          >\n            Send Email\n          </Button>\n        </form>\n      </div>\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n","import React, { useContext } from \"react\";\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  Menu,\n  MenuItem,\n  Avatar,\n} from \"@material-ui/core\";\nimport { StateContext, DispatchContext } from \"../contexts\";\nimport { auth } from \"../firebase\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function Header() {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const dispatch = useContext(DispatchContext);\n  const history = useHistory();\n\n  const handleOpenMenu = (e) => {\n    setAnchorEl(e.currentTarget);\n  };\n  const handleCloseMenu = (e) => {\n    setAnchorEl(null);\n  };\n  const handleLogout = () => {\n    auth\n      .signOut()\n      .then(() => {\n        dispatch({ type: \"USER_LOGOUT\" });\n        history.push(\"/sign-in\");\n        // history.push(`${process.env.PUBLIC_URL}/sign-in`);\n      })\n      .catch((err) => alert(err));\n  };\n\n  const { user, isLoading } = useContext(StateContext);\n\n  return (\n    <div>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n            edge=\"end\"\n            aria-label=\"account of current user\"\n            aria-controls=\"menu-appbar\"\n            aria-haspopup=\"true\"\n            color=\"inherit\"\n            onClick={handleOpenMenu}\n            onClose={handleCloseMenu}\n          >\n            <Avatar src={user && user.photoURL}></Avatar>\n          </IconButton>\n          <Menu\n            anchorOrigin={{\n              vertical: \"top\",\n              horizontal: \"right\",\n            }}\n            keepMounted\n            transformOrigin={{\n              vertical: \"top\",\n              horizontal: \"right\",\n            }}\n            anchorEl={anchorEl}\n            open={Boolean(anchorEl)}\n            onClose={handleCloseMenu}\n          >\n            <MenuItem onClick={handleLogout}>Logout</MenuItem>\n          </Menu>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n","import React, { useState, useContext, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport {\n  Typography,\n  Card,\n  CardContent,\n  Container,\n  CardHeader,\n  Avatar,\n} from \"@material-ui/core\";\nimport { StateContext } from \"../contexts\";\n\nfunction Dashboard() {\n  const { user } = useContext(StateContext);\n  const [name, setName] = useState(\"Full name\");\n  const [email, setEmail] = useState(\"Email\");\n  const [photoURL, setPhotoURL] = useState(\"\");\n\n  useEffect(() => {\n    console.log(\"useEffect ma xu\");\n    console.log({ user });\n    if (user && user.displayName) {\n      setName(user.displayName);\n    }\n    if (user && user.email) {\n      setEmail(user.email);\n    }\n    if (user && user.photoURL) {\n      setPhotoURL(user.photoURL);\n    }\n  }, [user]);\n\n  return (\n    <div>\n      <Header />\n      <Container maxWidth=\"md\">\n        <Card>\n          <CardHeader\n            avatar={<Avatar src={photoURL}></Avatar>}\n            title={name}\n            subheader={email}\n          />\n          <CardContent>\n            <Typography color=\"textSecondary\" gutterBottom>\n              Welcome to Dashboard :)\n            </Typography>\n          </CardContent>\n        </Card>\n      </Container>\n    </div>\n  );\n}\n\nexport default Dashboard;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Box from \"@material-ui/core/Box\";\nimport EmailOutlinedIcon from \"@material-ui/icons/EmailOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Copyright from \"./Copyright\";\nimport { useHistory } from \"react-router-dom\";\nimport { signInWithEmailLink } from \"../auth\";\nimport { DispatchContext, StateContext } from \"../contexts\";\nimport {\n  userLoginSuccess,\n  userLoginFailure,\n  userLoginRequest,\n} from \"../actionTypes\";\nimport { auth } from \"../firebase\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SignInWithEmailLink() {\n  const classes = useStyles();\n  const [email, setEmail] = useState(\"\");\n  const dispatch = useContext(DispatchContext);\n  const { isLoading, error } = useContext(StateContext);\n  const url = window.location.href;\n  const [isRedirect, setIsRedirect] = useState(false);\n  const [isSameDevice, setIsSameDevice] = useState(true);\n  const history = useHistory();\n\n  const handleOnSubmit = (e) => {\n    e.preventDefault();\n    dispatch(userLoginRequest());\n    signInWithEmailLink(email)\n      .then((user) => {\n        dispatch(userLoginSuccess(user));\n        history.push(\"/dashboard\");\n      })\n      .catch((err) => dispatch(userLoginFailure(err.message)));\n  };\n\n  // // Check if the url is redirect from an email for sign in with email method\n  // useEffect(() => {\n  //   console.log(\"call confirmSignIn\");\n  //   confirmSignInWithEmailLink()\n  //     .then((user) => {\n  //       console.log(user);\n  //       dispatch({ type: \"USER_LOGIN_SUCCESS\", payload: user });\n  //     })\n  //     .catch((err) => {\n  //       dispatch({ type: \"USER_LOGIN_FAILURE\", payload: err.message });\n  //     });\n  // }, []);\n\n  useEffect(() => {\n    console.log(\"useEffect is happening......\");\n    if (auth.isSignInWithEmailLink(url)) {\n      setIsRedirect(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    console.log({ isRedirect });\n    if (isRedirect) {\n      var email = window.localStorage.getItem(\"emailForSignIn\");\n      email ? setEmail(email) : setIsSameDevice(false);\n      // if (!email) {\n      //   setIsSameDevice(false);\n      // }\n      console.log({ email });\n    }\n  }, [isRedirect]);\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <EmailOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in With Email Link\n        </Typography>\n        <br />\n        <Typography component=\"body1\" variant=\"body1\" color=\"textSecondary\">\n          Click the button to sign in\n        </Typography>\n        <form className={classes.form} noValidate onSubmit={handleOnSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            disabled={isSameDevice ? true : false}\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            {isLoading ? `Signing In...` : `Sign In`}\n          </Button>\n        </form>\n      </div>\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Box from \"@material-ui/core/Box\";\nimport EmailOutlinedIcon from \"@material-ui/icons/EmailOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport Copyright from \"./Copyright\";\nimport { sendSignInEmailLink } from \"../auth\";\nimport { DispatchContext, StateContext } from \"../contexts\";\nimport {\n  sendEmailLinkRequest,\n  sendEmailLinkSuccess,\n  sendEmailLinkFailure,\n} from \"../actionTypes\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function SendSignInEmailLink() {\n  const classes = useStyles();\n  const [email, setEmail] = useState(\"\");\n  const dispatch = useContext(DispatchContext);\n  const { isLoading, error } = useContext(StateContext);\n  const [isEmailSent, setIsEmailSent] = useState(false);\n\n  const handleOnSubmit = (e) => {\n    e.preventDefault();\n\n    if (isEmailSent) {\n      return;\n    }\n\n    // Dispatch actions only if in idle state\n    if (!isLoading) {\n      dispatch(sendEmailLinkRequest());\n      sendSignInEmailLink(email)\n        .then(() => {\n          dispatch(sendEmailLinkSuccess());\n          setEmail(\"\");\n          setIsEmailSent(true);\n        })\n        .catch((err) => dispatch(sendEmailLinkFailure(err)));\n    }\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <EmailOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Send Sign In Email Link\n        </Typography>\n        <br />\n        <Typography component=\"body1\" variant=\"body1\" color=\"textSecondary\">\n          You will receive an email with an url to sign in\n        </Typography>\n        <form className={classes.form} noValidate onSubmit={handleOnSubmit}>\n          {!isEmailSent ? (\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n            />\n          ) : null}\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            {isEmailSent\n              ? \"Email Sent\"\n              : isLoading\n              ? \"Sending Email...\"\n              : \"Send an Email\"}\n          </Button>\n        </form>\n      </div>\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { Snackbar, Slide } from \"@material-ui/core\";\nimport { StateContext } from \"../contexts\";\n\nfunction Popup() {\n  const [open, setOpen] = useState(false);\n  const { error } = useContext(StateContext);\n\n  useEffect(() => {\n    if (error != null) {\n      setOpen(true);\n    }\n  }, [error]);\n\n  return (\n    <Snackbar\n      anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n      TransitionComponent={Slide}\n      open={open}\n      onClose={() => setOpen(false)}\n      autoHideDuration={5000}\n      message={error && error}\n    />\n  );\n}\n\nexport default Popup;\n","import React, { useReducer, useEffect, useContext, useState } from \"react\";\nimport { CssBaseline } from \"@material-ui/core\";\nimport { StateContext, DispatchContext } from \"./contexts\";\nimport { useGetCurrentUser } from \"./auth\";\nimport reducer from \"./reducer\";\nimport { INITIAL_STATE } from \"./state\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport {\n  Dashboard,\n  SignIn,\n  SignUp,\n  ForgotPassword,\n  SignInWithEmailLink,\n  SendSignInEmailLink,\n} from \"./componenets\";\nimport Popup from \"./componenets/Popup\";\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, INITIAL_STATE);\n  const user = useGetCurrentUser();\n  useEffect(() => {\n    console.log({ user });\n    console.log(process.env.REACT_APP_HOMEPAGE);\n    dispatch({ type: \"GET_CURRENT_USER\", payload: user });\n  }, [user]);\n\n  console.log(process.env.PUBLIC_URL, \"PUBLIC_URL\");\n\n  return (\n    <StateContext.Provider value={state}>\n      <DispatchContext.Provider value={dispatch}>\n        <CssBaseline />\n        <Popup />\n        <Route>\n          <Switch>\n            <Route exact path=\"/\" component={SignIn} />\n            <Route exact path=\"/sign-in\" component={SignIn} />\n            <Route exact path=\"/sign-up\" component={SignUp} />\n            <Route exact path=\"/forgot-password\" component={ForgotPassword} />\n            <Route exact path=\"/dashboard\" component={Dashboard} />\n            <Route\n              exact\n              path=\"/sign-in-with-email-link\"\n              component={SignInWithEmailLink}\n            />\n            <Route\n              exact\n              path=\"/send-sign-in-email-link\"\n              component={SendSignInEmailLink}\n            />\n          </Switch>\n        </Route>\n      </DispatchContext.Provider>\n    </StateContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport history from \"./history\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router history={history} basename={process.env.PUBLIC_URL}>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}